---
layout: post
title: Git的补充学习
categories: Programming
description: 对Git的补充学习
keywords: Git
excerpt: 对Git的补充学习
---

# git rm
`git rm`指令用于删除文件

示例：

```
$ git rm file1.txt              # 将文件从暂存区和工作区中删除  
$ git rm -f file1.txt           # 删除之前修改过并且已经放到暂存区的文件  
$ git rm --cached file1.txt     # 仅将文件从暂存区中删除
```
也可以删除目录：
```
$ git rm –r *                   # 删除该目录下的所有文件和子目录
```

# git reset
`git reset`指令用于撤销变更/回退版本，本质上就是向上移动分支

`git reset`可以加三种参数：

|参数| 工作区 | 暂存区 |
|----------|----------|----------|
| --soft    | keep  | keep |
| --hard   | abort   | abort   |
| --mixed(default)    | keep   | abort  |

参数主要的区别就在于回退版本的时候是否保留原来的工作区和暂存区的内容

示例：

```
$ git reset HEAD^            # 回退所有内容到上一个版本  
$ git reset HEAD^ hello.php  # 回退 hello.php 文件的版本到上一个版本  
$ git reset 052e             # 回退到指定版本
```

## 如何回到reset --hard前的版本？
使用`git reflog`命令查看版本号，该命令显示的是HEAD和分支引用的变化历史，找到版本号后再用一次`git reset --hard`


# git diff
`git diff`指令用于查看和比较文件的不同

示例：
```
$ git diff [file]                           # 查看暂存区和工作区的差异  
$ git diff HEAD [file]                      # 查看工作区和最后一次提交的差异
$ git diff --cached [file]                  # 查看暂存区和最后一次提交的差异
$ git diff [old-branch] [new-branch]   # 查看两次提交之间的差异
```

# git ls-files
查看暂存区的文件